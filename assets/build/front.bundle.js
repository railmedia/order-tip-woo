(()=>{"use strict";(()=>{jQuery;!function(){const e=new CustomEvent("wootipplaced"),t=new CustomEvent("wootipremove"),o={selectTip:e=>{const t=e.parent().find("button.woo_order_tip_apply");jQuery(".woo_order_tip").removeClass("active"),e.addClass("active");"custom"==e.data("tip")?(t.toggle(),e.parent().find(".woo_order_tip_custom_text").toggle().focus()):o.applyTip(e)},applyTip:t=>{const o=t.parents("#wooot_order_tip_form"),r=o.find(".woo_order_tip.active").data("tip-type"),i="1"==r?"%":wootip.cs,p=o.find(".woo_order_tip.active").data("tip-custom"),c=o.find(".woo_order_tip.active").data("tip-cash"),a=o.find("#woo_recurring_tip").is(":checked");let u=0,s=o.find(".woo_order_tip.active").data("tip");s=s&&"custom"!==s&&"number"==typeof s?Math.abs(s):s;const d=s+i;if("custom"==s){if(s=o.find(".woo_order_tip_custom_text").val(),!s||0==parseInt(s))return o.find(".woo_order_tip_custom_text").css("border","1px solid red").focus(),u=1,!1;o.find(".woo_order_tip_custom_text").css("border","initial"),u=0}u||(jQuery(".woocommerce").block({message:""}),jQuery.ajax({type:"POST",url:wootip.au,dataType:"json",data:{action:"apply_tip",tip:s,tip_type:r,tip_label:d,tip_custom:p,tip_cash:c,tip_recurring:a,security:wootip.n},success:function(t){t.status&&"success"===t.status&&(p&&jQuery('.woo_order_tip[data-tip="custom"]').text(wootip.s.cut+" ("+wootip.cs+s.replace(",",wootip.ds).replace(".",wootip.ds)+")"),jQuery("body").trigger("update_checkout"),jQuery('button[name="update_cart"]').length&&jQuery('button[name="update_cart"]').attr("aria-disabled",!1).removeAttr("disabled").trigger("click"),jQuery(".woo_order_tip_remove").show(),jQuery(".woo_order_tip_apply").hide(),jQuery(".woo_order_tip_custom_text").hide(),document.dispatchEvent(e),jQuery(".woocommerce").unblock())}}))},removeTip:()=>{"1"==wootip.eart?!0===confirm(wootip.s.rtc)&&o.doRemoveTip():o.doRemoveTip()},doRemoveTip:()=>{jQuery(".woocommerce").block({message:""}),jQuery.ajax({type:"POST",url:wootip.au,dataType:"html",data:{action:"remove_tip",security:wootip.n2},success:function(e){"success"==e&&(document.dispatchEvent(t),jQuery('.woo_order_tip[data-tip="custom"]').text(wootip.s.cut),jQuery("body").trigger("update_checkout"),jQuery('[name="update_cart"]').attr("aria-disabled",!1).removeAttr("disabled").trigger("click"),jQuery(".woocommerce").unblock(),jQuery(".woo_order_tip_remove").hide(),jQuery(".woo_order_tip").removeClass("active"))}})}};jQuery((function(){jQuery("body").on("click",".woo_order_tip",(function(e){e.preventDefault(),o.selectTip(jQuery(this))})),jQuery(".woo_order_tip_custom_text").on("keypress",(function(e){if(console.log(e),13==e.which)return e.preventDefault(),!1})),jQuery("body").on("change",".woo_order_tip_custom_text",(function(e){jQuery(this).val(jQuery(this).val().replace(/[^0-9.,]/g,""))})),jQuery("body").on("click",".woo_order_tip_apply",(function(e){e.preventDefault(),o.applyTip(jQuery(this))})),jQuery("body").on("change","#woo_recurring_tip",(function(e){e.preventDefault(),o.applyTip(jQuery(this))})),jQuery("body").on("click",".woo_order_tip_remove",(function(e){e.preventDefault(),o.removeTip()}))}))}(jQuery)})()})();
//# sourceMappingURL=front.bundle.js.map